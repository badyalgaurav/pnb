@{
    ViewBag.Title = "chat";
}

<link rel='stylesheet prefetch' href='//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css'>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">
<link rel="https://cdn.jsdelivr.net/angular.ng-notify/0.8.0/ng-notify.min.css" />
<link href="~/PubNub/CSS/pubnubBaseStyle.css" rel="stylesheet" />
<div class="container" ng-app="chatApp">
    <div ng-controller="ChatCtrl">

        @*it will fetch the message list and message form*@


        <ul class="collection">
            <li class="collection-item avatar" ng-repeat="message in messages">
                <img src="{{avatarUrl(message.sender_uuid)}}" alt="{{message.sender_uuid}}" class="circle">
                <span class="title">Anonymous robot #{{ message.sender_uuid }}</span>
                <p><i class="prefix mdi-action-alarm"></i><span class="message-date">{{ message.date | date:"MM/dd/yyyy 'at' h:mma"}}</span></br> {{ message.content }}</p>
            </li>
        </ul>
        <footer class="teal">
            <form ng-submit="sendMessage()" class="container">
                <div class="row">
                    <div class="input-field col s10">
                        <i class="prefix mdi-communication-chat"></i>
                        <input ng-model="messageContent" type="text" placeholder="Type your message">
                        <span class="chip left">
                            <img src="{{avatarUrl(uuid)}}">
                            Anonymous robot #{{uuid}}
                        </span>
                    </div>
                    <div class="input-field col s2">
                        <button type="submit" class="waves-effect waves-light btn-floating btn-large">
                            <i class="mdi-content-send"></i>
                        </button>
                    </div>
                </div>
            </form>
        </footer>
    </div>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-messages.min.js"></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

<script src='//cdn.pubnub.com/pubnub-3.7.21.js'></script>
<script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
<script src='//cdn.pubnub.com/sdk/pubnub-angular/pubnub-angular-3.1.1.min.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.2.0/lodash.js'></script>
<script src="https://cdn.jsdelivr.net/angular.ng-notify/0.8.0/ng-notify.min.js"></script>
<script src="~/PubNub/JS/app.js"></script>
<script src="~/PubNub/JS/chatAppController.js"></script>
